---
import Nav from "../components/Nav.astro";
import UpperNav from "../components/UpperNav.astro";
import ConsultB from "../components/ConsultB.astro";
import Hero from "../components/Hero.astro";
import Welcome from "../components/Welcome.astro";
import About from "../components/About.astro";
import Layout from "../layouts/Layout.astro";
import Times from "../components/Times.astro";
import Gravel from "../components/Gravel.astro";
import Fqa from "../components/Fqa.astro";
import Services from "../components/Services.astro";
import Footer from "../components/Footer.astro";
import Caro from "../components/Caro.astro";
import Herosection from "../components/Herosection.astro";
import { firms } from "../data/firmdata";
import UpperNavRestaurant from "../components/UpperNavRestaurant.astro";
import Disclaimer from "../components/Disclaimer.astro";
// import Herosection fron "../components/Herosection.astro";

// Welcome to Astro! Wondering what to do next? Check out the Astro documentation at https://docs.astro.build
// Don't want to use any of this? Delete everything in this file, the `assets`, `components`, and `layouts` directories, and start fresh.

export async function getStaticPaths() {
  return firms.map((firm) => ({
    params: { firm: firm.firm.toLowerCase() },
  }));
}

const { firm } = Astro.params;
const firmData = firms.find((f) => f.firm.toLowerCase() === firm);

if (!firmData) {
  throw new Error("Firm not found");
}

// export async function getStaticPaths() {
//   return firms.map((firm) => ({
//     params: { firm: firm.firm },
//   }));
// }

// const { firms } = Astro.params;
// const firm = firms.find(p => p.firms === firms);

// if (!firms) {
//   throw new Error("Product not found");
// }
---

<Layout
  title=`${firmData.firm} Restaurant (The Best)`
  background={`radial-gradient(
        1200px 600px at 10% 10%,
        hsl(220 80% 56% / 0.15),
        transparent
      ),
      radial-gradient(
        900px 500px at 90% 20%,
        hsl(265 80% 63% / 0.18),
        transparent
      ),
      linear-gradient(180deg, hsl(222 15% 10%), hsl(222 15% 8%))`}
>
  <UpperNav {...firmData} />
  <!-- <UpperNavRestaurant {...firmData} /> -->
  <Nav />
  <Herosection {...firmData} />
  <Hero />
  <About />

  <Caro />

  <!-- <Gravel /> -->
  <Times />
  <Services />
  <Fqa />
  <Footer {...firmData} />

  <Disclaimer />
</Layout>
