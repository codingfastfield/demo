---
import type { string } from "astro:schema";

interface Props {
  id?: number;
  firm?: string;
  title?: string;
  subtitle?: string;
  ctaText?: string;
  ctaHref?: string;
  secondaryCtaText?: string;
  secondaryCtaHref?: string;
  imageSrc?: string;
  imageAlt?: string;
  number?: string;
  email?: string;
  address?: string;
}

const {
  title = "Trusted Legal Counsel",
  subtitle = "Expert advocacy in litigation, corporate law & dispute resolution across Kenya.",
  ctaText = "Book Appointment",
  ctaHref = "#contact",
  secondaryCtaText = "Call Now",
  secondaryCtaHref = "tel:+25479****16***",
  imageSrc = "/assets/hero-justice.jpg", // Place a real image in /public/assets or /src/assets and adjust path
  imageAlt = "Advocate at a desk with law books",
  firm,
  email,
  number,
  address,
} = Astro.props as Props;
---

<section class="hero" aria-label="Hero â€“ Advocate Services">
  <div class="hero__bg" aria-hidden="true"></div>
  <div class="container">
    <div class="content">
      <div class="eyebrow">
        <svg
          class="scale"
          viewBox="0 0 24 24"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
          aria-hidden="true"
        >
          <path
            d="M12 3v18M4 12h16M6.5 9.5h11M6.5 14.5h11"
            stroke="currentColor"
            stroke-width="1.5"
            stroke-linecap="round"></path>
        </svg>
        <span>{firm}*~~ & *. Advocates**</span>
      </div>

      <h1 class="title">{title}</h1>
      <p class="subtitle">{subtitle}</p>

      <div class="cta">
        <a class="btn btn--primary" href={ctaHref} rel="noopener">{ctaText}</a>
        <a class="btn btn--ghost" href={secondaryCtaHref} rel="noopener"
          >{secondaryCtaText}</a
        >
      </div>

      <ul class="points" role="list">
        <li>Client-first counsel</li>
        <li>Clear fees & updates</li>
        <li>Timely, practical outcomes</li>
      </ul>
    </div>

    <figure class="visual">
      <img
        src="/gavelblock.png"
        alt={imageAlt}
        loading="eager"
        decoding="async"
      />
      <figcaption class="visually-hidden">{imageAlt}</figcaption>
      <div class="glow" aria-hidden="true"></div>
    </figure>
  </div>
</section>

<style>
  :root {
    --hero-bg: radial-gradient(
        1200px 600px at 10% 10%,
        hsl(220 80% 56% / 0.15),
        transparent
      ),
      radial-gradient(
        900px 500px at 90% 20%,
        hsl(265 80% 63% / 0.18),
        transparent
      ),
      linear-gradient(180deg, hsl(222 15% 10%), hsl(222 15% 8%));
    --card: hsl(0 0% 100% / 0.06);
    --card-border: hsl(0 0% 100% / 0.12);
    --text: hsl(0 0% 98%);
    --muted: hsl(220 10% 70%);
    --brand: hsl(220 90% 60%);
    --brand-2: hsl(265 85% 65%);
  }

  .hero {
    position: relative;
    isolation: isolate;
    padding: clamp(3rem, 6vw, 6rem) 1rem;
    color: var(--text);
    overflow: clip;
    margin: 0 !important;
  }

  .hero__bg::before,
  .hero__bg::after {
    content: "";
    position: absolute;
    inset: -20% -10% auto -10%;
    height: 70vh;
    background: radial-gradient(
      closest-side,
      hsl(220 95% 60% / 0.12),
      transparent 70%
    );
    filter: blur(50px);
    transform: translateY(-20%);
    z-index: -1;
  }

  .container {
    max-width: 1100px;
    margin: 0 auto;
    display: grid;
    grid-template-columns: 1.05fr 0.95fr;
    gap: clamp(2rem, 4vw, 4rem);
    align-items: center;
  }
  /* .content {
    width:88%;
    margin: 0 auto;
  } */

  @media (max-width: 900px) {
    .container {
      grid-template-columns: 1fr;
    }
    .content {
      order: -1; /* put content above image on mobile */
    }
    .visual {
      order: 0; /* image comes after content */
    }
  }

  .eyebrow {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.35rem 0.6rem;
    border-radius: 999px;
    background: var(--card);
    border: 1px solid var(--card-border);
    backdrop-filter: saturate(140%) blur(6px);
    font-size: 0.85rem;
    color: var(--muted);
  }

  .eyebrow .scale {
    width: 18px;
    height: 18px;
    opacity: 0.9;
  }

  .title {
    margin: 0.9rem 0 0.6rem;
    font-size: clamp(2rem, 4.8vw, 3.5rem);
    line-height: 1.07;
    letter-spacing: -0.01em;
  }

  .subtitle {
    margin: 0 0 1.25rem;
    color: var(--muted);
    font-size: clamp(1.05rem, 1.2vw, 1.2rem);
    max-width: 65ch;
  }

  .cta {
    display: flex;
    flex-wrap: wrap;
    gap: 0.8rem;
    margin: 1rem 0 1.25rem;
  }

  .btn {
    --ring: 0 0 0 0 hsl(0 0% 100% / 0);
    display: inline-flex;
    align-items: center;
    justify-content: center;
    padding: 0.85rem 1.15rem;
    border-radius: 14px;
    border: 1px solid var(--card-border);
    font-weight: 600;
    text-decoration: none;
    transition:
      transform 200ms ease,
      box-shadow 200ms ease,
      background 200ms ease,
      color 200ms ease;
    outline: none;
    box-shadow: var(--ring);
    will-change: transform;
  }
  .btn:focus-visible {
    box-shadow: 0 0 0 6px hsl(220 90% 60% / 0.25);
  }
  .btn:hover {
    transform: translateY(-2px);
  }

  .btn--primary {
    background: linear-gradient(135deg, var(--brand), var(--brand-2));
    color: white;
  }
  .btn--primary:hover {
    filter: brightness(1.05);
  }

  .btn--ghost {
    background: hsl(0 0% 100% / 0.08);
    color: var(--text);
  }

  .points {
    display: grid;
    grid-template-columns: repeat(3, max-content);
    gap: 0.75rem 1.25rem;
    margin: 1rem 0 0;
    padding: 0;
    list-style: none;
    font-size: 0.95rem;
    color: var(--muted);
  }
  @media (max-width: 600px) {
    .points {
      grid-template-columns: 1fr;
    }
  }

  .visual {
    position: relative;
    aspect-ratio: 4 / 3;
    border-radius: 20px;
    overflow: clip;
    background: linear-gradient(
      180deg,
      hsl(0 0% 100% / 0.06),
      hsl(0 0% 100% / 0.02)
    );
    border: 1px solid var(--card-border);
    box-shadow: 0 20px 60px hsl(220 50% 5% / 0.65);
  }
  .visual img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    display: block;
    transform: translateZ(0);
    animation: float 9s ease-in-out infinite;
  }
  @media (prefers-reduced-motion: reduce) {
    .visual img {
      animation: none;
    }
  }

  .glow {
    position: absolute;
    inset: auto -20% -20% -20%;
    height: 50%;
    background: radial-gradient(
      60% 60% at 50% 0%,
      hsl(220 90% 60% / 0.45),
      transparent 70%
    );
    filter: blur(40px);
    z-index: -1;
  }

  .visually-hidden {
    position: absolute !important;
    clip: rect(1px, 1px, 1px, 1px);
    clip-path: inset(50%);
    height: 1px;
    width: 1px;
    overflow: hidden;
    white-space: nowrap;
    border: 0;
    padding: 0;
    margin: -1px;
  }

  @keyframes float {
    0%,
    100% {
      transform: translateY(0);
    }
    50% {
      transform: translateY(-6px);
    }
  }
</style>
